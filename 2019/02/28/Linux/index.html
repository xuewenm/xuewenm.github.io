<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha256-Z1K5uhUaJXA7Ll0XrZ/0JhX4lAtZFpT6jkKrEDT0drU=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/themes/blue/pace-theme-minimal.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"xuewenm.github.io","root":"/","images":"/images","scheme":"Mist","darkmode":false,"version":"8.14.2","exturl":false,"sidebar":{"position":"right","display":"hide","padding":18,"offset":12},"copycode":{"enable":true,"style":null},"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"gitalk","storage":true,"lazyload":false,"nav":null,"activeClass":"gitalk"},"stickytabs":true,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="Linux 参考:EFI system partitionhow do i install ubuntu alongside a pre installed windows with uefi     内存空间查看 df: df -lh fdisk: fdisk -l cfdisk">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux">
<meta property="og:url" content="https://xuewenm.github.io/2019/02/28/Linux/index.html">
<meta property="og:site_name" content="Wen&#39;s blog">
<meta property="og:description" content="Linux 参考:EFI system partitionhow do i install ubuntu alongside a pre installed windows with uefi     内存空间查看 df: df -lh fdisk: fdisk -l cfdisk">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2019-02-28T01:22:12.000Z">
<meta property="article:modified_time" content="2023-02-07T12:16:42.380Z">
<meta property="article:author" content="XueWen">
<meta property="article:tag" content="relax">
<meta property="article:tag" content="Linux">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://xuewenm.github.io/2019/02/28/Linux/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://xuewenm.github.io/2019/02/28/Linux/","path":"2019/02/28/Linux/","title":"Linux"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Linux | Wen's blog</title>
  








  <!-- <script type="text/javascript" src="/js/dynamic-bg.js"></script>-->
  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Wen's blog</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-interest"><a href="/interest/" rel="section"><i class="fa fa-heart fa-fw"></i>interest</a></li><li class="menu-item menu-item-c"><a href="/c/" rel="section"><i class="fa fa-heart fa-fw"></i>C</a></li><li class="menu-item menu-item-python"><a href="/python/" rel="section"><i class="fa fa-heart fa-fw"></i>Python</a></li><li class="menu-item menu-item-commonweal"><a href="/404/" rel="section"><i class="fa fa-heartbeat fa-fw"></i>公益 404</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Linux"><span class="nav-number">1.</span> <span class="nav-text">Linux</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%86%85%E5%AD%98%E7%A9%BA%E9%97%B4%E6%9F%A5%E7%9C%8B"><span class="nav-number">1.1.</span> <span class="nav-text">内存空间查看</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Linux%E5%88%86%E5%8C%BA%E6%8C%82%E8%BD%BD%E7%82%B9%E4%BB%8B%E7%BB%8D-old-just-for-comprehension"><span class="nav-number">1.2.</span> <span class="nav-text">Linux分区挂载点介绍(old, just for comprehension)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#U%E7%9B%98%E8%A3%85Linux-CentOS"><span class="nav-number">1.3.</span> <span class="nav-text">U盘装Linux: CentOS</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#UEFI%E5%BC%95%E5%AF%BC%E4%B8%8EBIOS%E5%BC%95%E5%AF%BC"><span class="nav-number">1.4.</span> <span class="nav-text">UEFI引导与BIOS引导</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#EFI-ESP"><span class="nav-number">1.4.1.</span> <span class="nav-text">EFI(ESP)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#create-partition-efi"><span class="nav-number">1.4.1.1.</span> <span class="nav-text">create partition: efi</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Secure-Boot"><span class="nav-number">1.5.</span> <span class="nav-text">Secure Boot</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Installing-Ubuntu"><span class="nav-number">1.5.1.</span> <span class="nav-text">Installing Ubuntu</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Before-we-start-we-need-to-do-the-following"><span class="nav-number">1.5.1.1.</span> <span class="nav-text">Before we start we need to do the following:</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Select-UEFI-Firmware-Settings"><span class="nav-number">1.5.2.</span> <span class="nav-text">Select UEFI Firmware Settings</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#THIS-IS-AN-IMPORTANT-PART"><span class="nav-number">1.5.3.</span> <span class="nav-text">THIS IS AN IMPORTANT PART</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DUAL-BOOT-ISSUES"><span class="nav-number">1.6.</span> <span class="nav-text">DUAL BOOT ISSUES</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%9B%E5%85%A5Cent-OS%E5%90%8E"><span class="nav-number">1.6.0.1.</span> <span class="nav-text">进入Cent OS后</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Cent-OS%E4%B8%8B%E6%97%A0%E6%B3%95%E8%BF%9E%E6%8E%A5wifi-%E6%97%A0%E7%BA%BF%E7%BD%91%E5%8D%A1%EF%BC%9Artl8822be-solved"><span class="nav-number">1.6.1.</span> <span class="nav-text">Cent OS下无法连接wifi(无线网卡：rtl8822be  solved)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95"><span class="nav-number">1.6.1.1.</span> <span class="nav-text">解决方法</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#USB%E5%85%B1%E4%BA%AB%E6%89%8B%E6%9C%BA%E7%BD%91%E7%BB%9C"><span class="nav-number">1.6.2.</span> <span class="nav-text">USB共享手机网络</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%86%85%E6%A0%B8%E5%8D%87%E7%BA%A7"><span class="nav-number">1.6.3.</span> <span class="nav-text">内核升级</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E6%BA%90"><span class="nav-number">1.6.3.1.</span> <span class="nav-text">配置源</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%86%85%E6%A0%B8%E5%8D%87%E7%BA%A7-1"><span class="nav-number">1.6.3.2.</span> <span class="nav-text">内核升级</span></a></li></ol></li></ol></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="XueWen"
      src="/images/ic_hello.png">
  <p class="site-author-name" itemprop="name">XueWen</p>
  <div class="site-description" itemprop="description">不积硅步无以至千里，不积小流何以成江海。</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">57</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">50</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">46</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/guanyuespace" title="Code → https:&#x2F;&#x2F;github.com&#x2F;guanyuespace" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>Code</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://github.com/xuewenm" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;xuewenm" rel="noopener me" target="_blank"><i class="github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:1853376164@qq.com" title="Mail → mailto:1853376164@qq.com" rel="noopener me" target="_blank"><i class="envelope fa-fw"></i>Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:guanyue003@gmail.com" title="E-Mail → mailto:guanyue003@gmail.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>
  <div class="cc-license animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a>
  </div>

        </div>
      </div>
	  <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=28798308&auto=1&height=66"></iframe>
	  
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://xuewenm.github.io/2019/02/28/Linux/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/ic_hello.png">
      <meta itemprop="name" content="XueWen">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Wen's blog">
      <meta itemprop="description" content="不积硅步无以至千里，不积小流何以成江海。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Linux | Wen's blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Linux
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-02-28 09:22:12" itemprop="dateCreated datePublished" datetime="2019-02-28T09:22:12+08:00">2019-02-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-02-07 20:16:42" itemprop="dateModified" datetime="2023-02-07T20:16:42+08:00">2023-02-07</time>
    </span>

  
    <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>4.4k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>16 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h1 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h1><blockquote>
<p>参考:<a target="_blank" rel="noopener" href="https://wiki.archlinux.org/index.php/EFI_system_partition">EFI system partition</a><br><a target="_blank" rel="noopener" href="https://askubuntu.com/questions/221835/how-do-i-install-ubuntu-alongside-a-pre-installed-windows-with-uefi">how do i install ubuntu alongside a pre installed windows with uefi</a>   </p>
</blockquote>
<h2 id="内存空间查看"><a href="#内存空间查看" class="headerlink" title="内存空间查看"></a>内存空间查看</h2><ul>
<li>df: df -lh</li>
<li>fdisk: fdisk -l</li>
<li>cfdisk<span id="more"></span></li>
</ul>
<h2 id="Linux分区挂载点介绍-old-just-for-comprehension"><a href="#Linux分区挂载点介绍-old-just-for-comprehension" class="headerlink" title="Linux分区挂载点介绍(old, just for comprehension)"></a>Linux分区挂载点介绍(old, just for comprehension)</h2><p>Linux分区挂载点介绍，推荐容量仅供参考不是绝对，跟各系统用途以及硬盘空间配额等因素实际调整：      </p>
<table>
<thead>
<tr>
<th align="left">分区类型</th>
<th align="left">介绍</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td align="left">&#x2F;boot</td>
<td align="left">启动分区</td>
<td>一般设置100M-200M，boot目录包含了操作系统的内核和在启动系统过程中所要用到的文件。</td>
</tr>
<tr>
<td align="left">&#x2F;</td>
<td align="left">根分区</td>
<td>所有未指定挂载点的目录都会放到这个挂载点下。</td>
</tr>
<tr>
<td align="left">&#x2F;home</td>
<td align="left">用户目录</td>
<td>一般每个用户100M左右，特殊用途，比如放大文件也可再加上G。分区大小取决于用户多少。对于多用户使用的电脑，建议把&#x2F;home独立出来，而且还可以很好地控制普通用户权限等，比如对用户或者用户组实行磁盘配额限制、用户权限访问等。</td>
</tr>
<tr>
<td align="left">&#x2F;tmp</td>
<td align="left">临时文件</td>
<td>一般设置1-5G，方便加载ISO镜像文件使用，对于多用户系统或者网络服务器来也有独立挂载的必要。临时文件目录，也是最常出现问题的目录之一。</td>
</tr>
<tr>
<td align="left">&#x2F;usr</td>
<td align="left">文件系统</td>
<td>一般设置要3-15G，大部分的用户安装的软件程序都在这里。就像是Windows目录和Program Files目录。很多Linux家族系统有时还会把&#x2F;usr&#x2F;local单独作为挂载点使用。</td>
</tr>
<tr>
<td align="left">&#x2F;var</td>
<td align="left">可变数据目录</td>
<td>包含系统运行时要改变的数据。通常这些数据所在的目录的大小是要经常变化的，系统日志记录也在&#x2F;var&#x2F;log下。一般多用户系统或者网络服务器要建立这个分区，设立这个分区，对系统日志的维护很有帮助。一般设置2-3G大小，也可以把硬盘余下空间全部分为var。</td>
</tr>
<tr>
<td align="left">&#x2F;srv</td>
<td align="left">系统服务目录</td>
<td>用来存放service服务启动所需的文件资料目录，不常改变。</td>
</tr>
<tr>
<td align="left">&#x2F;opt</td>
<td align="left">附加应用程序</td>
<td>存放可选的安装文件，个人一般把自己下载的软件资料存在里面，比如Office、QQ等等。</td>
</tr>
<tr>
<td align="left">swap</td>
<td align="left">交换分区</td>
<td>一般为内存2倍，最大指定2G即可</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td>以下为其它常用的分区挂载点</td>
</tr>
<tr>
<td align="left">&#x2F;bin</td>
<td align="left">二进制可执行目录</td>
<td>存放二进制可执行程序，里面的程序可以直接通过命令行调用，而不需要进入程序所在的文件夹。</td>
</tr>
<tr>
<td align="left">&#x2F;sbin</td>
<td align="left">系统管理员命令存放目录</td>
<td>存放标准系统管理员文件</td>
</tr>
<tr>
<td align="left">&#x2F;dev</td>
<td align="left">存放设备文件</td>
<td>驱动文件等</td>
</tr>
</tbody></table>
<h2 id="U盘装Linux-CentOS"><a href="#U盘装Linux-CentOS" class="headerlink" title="U盘装Linux: CentOS"></a>U盘装Linux: CentOS</h2><ul>
<li>制作U盘启动盘</li>
<li>安装<br>自定义文件所在路径：选择ISO所在磁盘<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Press Tab for full configuration options on menu items</span><br><span class="line">vmlinuz initrd=initrd.img inst.stage2=hd:LABEL=CentOS\x207\x20x86_64 rd.live.check quiet</span><br><span class="line">改为:</span><br><span class="line">vmlinuz initrd=initrd.img linux dd quiet</span><br><span class="line">查看U盘启动盘的名称</span><br><span class="line">重启后：</span><br><span class="line">vmlinuz initrd=initrd.img inst.stage2=hd:/dev/sdb4 quiet   ps：/dev/sdb4就是你看到的启动盘名称</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="UEFI引导与BIOS引导"><a href="#UEFI引导与BIOS引导" class="headerlink" title="UEFI引导与BIOS引导"></a>UEFI引导与BIOS引导</h2><p><em><strong>Warning: When dual-booting, avoid reformatting the ESP, as it may contain files required to boot other operating systems.</strong></em>   </p>
<p><em><strong>Keep in mind in here, maybe you have to configure disk form and booting system to GPT partition’s UEFI</strong></em>      </p>
<h3 id="EFI-ESP"><a href="#EFI-ESP" class="headerlink" title="EFI(ESP)"></a>EFI(ESP)</h3><blockquote>
<p>Copied from:<a target="_blank" rel="noopener" href="https://wiki.archlinux.org/index.php/EFI_system_partition">EFI system partition</a>   </p>
</blockquote>
<p>The EFI system partition (also called ESP) is an OS independent partition that acts as the storage place for the EFI bootloaders, applications and drivers to be launched by the UEFI firmware. It is mandatory for UEFI boot.       </p>
<p>If you are installing Arch Linux on an UEFI-capable computer with an installed operating system, like Windows 10 for example, it is very likely that you already have an EFI system partition.    </p>
<p>To find out the disk partition scheme and the system partition, use fdisk as root on the disk you want to boot from:   </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">fdisk -l /dev/sd*</span></span><br></pre></td></tr></table></figure>
<p>The command returns:</p>
<ul>
<li>The disk’s partition table: it indicates Disklabel type: gpt if the partition table is GPT or Disklabel type: dos if it is MBR.</li>
<li>The list of partitions on the disk: Look for the EFI system partition in the list, it is a small (usually about 100–550 MiB) partition with a type EFI System or EFI (FAT-12&#x2F;16&#x2F;32). To confirm this is the ESP, mount it and check whether it contains a directory named EFI, if it does this is definitely the ESP.</li>
</ul>
<h4 id="create-partition-efi"><a href="#create-partition-efi" class="headerlink" title="create partition: efi"></a>create partition: efi</h4><p>Warning: The EFI system partition must be a physical partition in the main partition table of the disk, not under LVM or software RAID etc.</p>
<p>To avoid potential problems with some UEFI implementations, <strong>the ESP should be formatted with FAT32 and the size should be at least 512 MiB.</strong> <em><strong>550 MiB is recommended to avoid MiB&#x2F;MB confusion and accidentally creating FAT16, although larger sizes are fine.</strong></em></p>
<p><em>According to a Microsoft note, the minimum size for the EFI system partition (ESP) would be 100 MiB,</em> though this is not stated in the UEFI Specification. <em>Note that for Advanced Format 4K Native drives (4-KiB-per-sector) drives, the size is at least 256 MiB, because it is the minimum partition size of FAT32 drives (calculated as sector size (4KiB) x 65527 &#x3D; 256 MiB), due to a limitation of the FAT32 file format.</em></p>
<hr>
<h2 id="Secure-Boot"><a href="#Secure-Boot" class="headerlink" title="Secure Boot"></a>Secure Boot</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://askubuntu.com/questions/221835/how-do-i-install-ubuntu-alongside-a-pre-installed-windows-with-uefi">how do i install ubuntu alongside a pre installed windows with uefi</a></p>
</blockquote>
<blockquote>
<p>Before explaining the steps to do it, I want to be clear that I have tried many ways of installing Ubuntu with versions older than 15.04 (Or any other distro for that matter) from within Windows 8 or Windows 10. No luck. Microsoft Windows really created a big mess for all Linux distributions. <strong>If you have a pre-installed Windows 8 system, you will probably never be able to install Ubuntu or any other OS in the normal (LiveCD&#x2F;LiveUSB) or Wubi way.</strong> This is because Windows 8 introduced several new features, of which 2 are:</p>
<ul>
<li>UEFI which substitutes what we have known as the BIOS (an alternative to)</li>
<li>Secure Boot which prevents anything but the installed operating system, in this case, Windows 8 from booting. This is no longer the case for Ubuntu since 12.04.2 so there is no need to disable secure boot.</li>
</ul>
<p>On a further note I want to mention something about Secure Boot taken from the UEFI Wiki</p>
</blockquote>
<p>“Secure Boot” is a new UEFI feature that appeared in 2012, with Windows 8 preinstalled computers. Ubuntu supports this feature starting with 12.10 64 bit (see this article) and 12.04.2 64 bit, but as PCs implementing support for it have only become widespread at the end of 2012 it is not yet widely tested, so it’s possible that you may encounter problems booting Ubuntu under Secure Boot.            </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">once you&#x27;ve installed with Secure Boot disabled. As mentioned by slangasek:      </span><br><span class="line">It is not required to disable SecureBoot in the firmware to install Ubuntu on a Windows 8 machine.</span><br><span class="line">Ubuntu 12.04.2 and 12.10 are SecureBoot-compatible.</span><br><span class="line">Any machine that ships with the recommended Microsoft Third-Party Marketplace keys in firmware will be able to boot Ubuntu under SecureBoot.</span><br><span class="line">If there is any problem file a launchpad bug for the shim package.</span><br></pre></td></tr></table></figure>
<!-- This was with Secure Boot on and on an EFI enabled boot system(Ubuntu 15.04 X64). I also. Tested 4 Windows 10 PCs and it worked perfectly with 15.10 & 16.04. -->
<!-- The message above shows you can install Ubuntu whose version is higher than 15.04(X64) with SecureBoot on,but you will fail to install it with SecureBoot on somtimes.  -->
<!-- first you should enable the SecureBoot.if problems occur, you can disable it for a try later ... -->


<h3 id="Installing-Ubuntu"><a href="#Installing-Ubuntu" class="headerlink" title="Installing Ubuntu"></a>Installing Ubuntu</h3><p>The following is a small guide to install Ubuntu with a Pre-Installed Windows 8 or 10 system. The steps HAVE TO BE done in the precise order I mention them here to get everything started. If a step is skipped or done before another, you will most likely end up with some of the problems mentioned at the bottom of this guide.</p>
<p>For the time, you need to do it via a LiveCD, LiveDVD or LiveUSB, assuming (actually requiring) you have the following points:       </p>
<!--   
just be ready      
\- You are using a 64-bit version of at least Ubuntu 12.04.2. 32-bit versions will not work.   
\- Your system came with Windows 8 or 10 pre-installed (And you do not want to delete it)   
\- You are not installing Ubuntu inside of Windows 8 or 10 but rather alongside of it. Inside it is impossible because it needs Wubi which is unsupported.
\- Your system has UEFI activated (And cannot be disabled) with Secure Boot.
\- You have already created a free space for Ubuntu from within Windows 8 with at least 8 GB (I recommend to leave at least 20 GB or so, so you can test the hell out of it).   
\- You made sure that you actually have free space left on the drive to create the needed partitions and you also made sure that you did not have all primary partitions used (In case of using an MS-DOS Scheme) because this will create a problem with the Ubuntu installer showing you only the "Replace Windows" option instead of the "Alongside Windows" option.   
\- You know how to burn a LiveCD, LiveDVD or LiveUSB from within Windows 8. If not, look for Windows apps that can do that for you.^-^.   
-->   
<ul>
<li>Windows 8 was not shutdown in either Hibernation mode(休眠模式) or any other mode (‘fast start-up’ which is by default on Windows 8) that leaves it on a saved state. <em>Shutdown Windows 8 in the normal way, with the shutdown option.</em> This will prevent other problems related to this from appearing. Read the bottom (TROUBLESHOOT) of this answer for more information regarding this point.</li>
<li>You are installing on an MS-DOS type(MBR) disk scheme (You can only have 4 primary partitions as opposed to GPT Scheme) which has at least 1 Free Primary Partition (You can find out the type of scheme you have from here if operating on an Ubuntu Live CD or here if from Windows). <strong>Remember that if you are already using 4 Primary Partitions no partitions will appear on the Ubuntu installer since there are no more Primary partitions left to use (MS-DOS type partitions are limited to 4 Primary ones; GPT are limited to 128 because of the limitation of Windows).</strong> This happens a lot on many laptops that come with 4 pre-created primary partitions. If you are installing on a GPT type partition and want it to boot, you need to <em>leave UEFI enabled</em>.</li>
</ul>
<h4 id="Before-we-start-we-need-to-do-the-following"><a href="#Before-we-start-we-need-to-do-the-following" class="headerlink" title="Before we start we need to do the following:"></a>Before we start we need to do the following:</h4><p>Run<code>compmgmt.msc</code>on Windows 8. From there on, create a partition with enough size. Note that I mention creating this FROM Windows 8 because I have had cases where doing the partition from the LiveUSB rendered Windows 8 unbootable, even after doing a boot repair. So to remove that problem or have a greater chance of removing it (Or simply skipping the problem altogether) and making sure both systems work, partition your hard drive from within Windows 8 first.<br>Now follow this steps to have a working Windows 8 + Ubuntu installed on your system:<br><strong>Windows 8 + Ubuntu</strong><br>We first need to know with <code>what type of motherboard options we are dealing with.</code> Open a terminal (By going to the start menu and typing PowerShell for example) and run the terminal as an Administrator (Right Click the app that will show in the start menu and select Run as Administrator). Now type <code>Confirm-SecureBootUEFI</code>. This can give you 3 results:   </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">True - Means your system has a Secure boot and is Enabled</span><br><span class="line">False - Means your system has a Secure boot and is Disabled</span><br><span class="line">Cmdlet not supported on this platform - Means your system does not support Secure boot and most likely you do not need this guide.</span><br><span class="line">      You can install Ubuntu by simply inserting the LiveCD or LiveUSB and doing the installation procedure without any problems.</span><br></pre></td></tr></table></figure>
<p>If you have it Enabled and have the necessary partitioning done then we can proceed with this guide. After booting into Windows 8 we go to the power off options and while holding the SHIFT key, click on Restart.</p>
<h3 id="Select-UEFI-Firmware-Settings"><a href="#Select-UEFI-Firmware-Settings" class="headerlink" title="Select UEFI Firmware Settings"></a>Select UEFI Firmware Settings</h3><p><em>NOTE - In the Spanish version of Windows 8, the option for UEFI Firmware Settings is not available in several laptops, tested Lenovo, HP, and Acer.</em> They do have an option to boot the computer and another custom menu will appear which lets you do a couple of things. In the case of Lenovo, you will not have an option to install Ubuntu with Windows 8, the only option is to remove Windows 8 completely. This only applies if you are not using 15.04+.</p>
<h3 id="THIS-IS-AN-IMPORTANT-PART"><a href="#THIS-IS-AN-IMPORTANT-PART" class="headerlink" title="THIS IS AN IMPORTANT PART"></a>THIS IS AN IMPORTANT PART</h3><p>The system will reboot and you will be allowed to go to the BIOS (If not press the appropriate key, some common are DEL,F2 or F10).<br>In this part, I can’t help much since each BIOS is different for each Motherboard model. There are 2 options you can take here, both of which are optional since Ubuntu might install without any problems at all. <strong>You can either look for an option to disable Secure Boot or an option to disable UEFI.</strong> In some cases you will be able to find both, it will show in the BIOS as an option called Secure Boot or Enable UEFI.    </p>
<p>If you find this options, then depending if you cannot install Ubuntu with Secure Boot enable then disable Secure Boot (Remember to report this as a bug using ubuntu-bug shim), to be able to still stay in UEFI mode and also be able to Boot with Ubuntu. In some motherboards, this will be the only option you actually need to change and also will be the only option you see related to UEFI because they will not offer the possibility to disable UEFI.</p>
<h2 id="DUAL-BOOT-ISSUES"><a href="#DUAL-BOOT-ISSUES" class="headerlink" title="DUAL BOOT ISSUES"></a>DUAL BOOT ISSUES</h2><p><font size="+1" color="red">If you happen to install Ubuntu in Legacy Mode (No SecureBoot) you might have problems booting both, Windows and Ubuntu at the same time since they will both not appear on a Dual-Boot Menu. If you have Windows on UEFI for example and you install Ubuntu on Legacy Mode, you will only be able to boot to Ubuntu in Legacy Mode and Windows in UEFI Mode.</font><br></p>
<p>So before proceeding, make sure that** you are installing Ubuntu with the same boot options as Windows.** This way you will be able to choose which one to boot from in the same boot menu and not worry if one will work or not. From the <a target="_blank" rel="noopener" href="https://help.ubuntu.com/community/UEFI#Converting_Ubuntu_into_EFI_mode">Ubuntu UEFI Guide</a> you can see that there is a section that teaches you how to know if you actually installed Ubuntu in the same Boot setup as Windows (UEFI Mode)    </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">An Ubuntu installed in EFI mode can be detected the following way:</span><br><span class="line">    its /etc/fstab file contains an EFI partition (mount point: /boot/efi)</span><br><span class="line">    it uses the grub-efi bootloader (not grub-pc)</span><br><span class="line">    from the installed Ubuntu, open a terminal (Ctrl+Alt+T) then type the following command:</span><br><span class="line">    [ -d /sys/firmware/efi ] &amp;&amp; echo &quot;Installed in EFI mode&quot; || echo &quot;Installed in Legacy mode&quot;</span><br><span class="line">```  </span><br><span class="line"></span><br><span class="line">So if you have ANY dual boot problems, this could be the problem. Please read the [Ubuntu UEFI Guide](https://help.ubuntu.com/community/UEFI) since it covers various ways of solving Dual boot problems and converting Ubuntu to Legacy or EFI mode. I have already tested this with various Ask Ubuntu members that helped me apart from 2 Laptops I was provided with for the testing. This should then solve any Dual Boot problems related to Windows 8 + Ubuntu, but I again encourage anyone with problems (same or new) to file a bug report as mentioned above. The Ubuntu Developers are working very hard in providing an easy to install solution for all cases and this is one of the top priorities.     </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### Some points we should consider before continuing    </span><br><span class="line">- If Windows 8 was installed with UEFI enabled, it is highly recommended to stay in UEFI, although if you still want to disable it for specific reasons you can, GRUB will create the bootable part for Windows 8. But if you do disable UEFI and want to access Windows 8 afterward (before installing Ubuntu), it will not work since the boot part for Windows 8 needs UEFI (Again the Dual Boot problem).    </span><br><span class="line">- If you only disable Secure Boot, there is no problem in some cases. You are only disabling the part that creates the most problem between Windows and Linux, which is the one that prevents Ubuntu from booting correctly.**In either case, I encourage you to first try to install Ubuntu with UEFI/Secureboot, since in most cases it will work. if you disable any of them and install Ubuntu, you might not be able to boot to Windows 8 afterward through the GRUB Boot Menu.**    </span><br><span class="line"></span><br><span class="line">Now before saving, some motherboards offer a `Boot Mode` option. Verify that this option is not pointing to `UEFI Boot` but instead to `CSM Boot` (Compatibility Support Module) which provides support for Legacy BIOS like systems.    </span><br><span class="line">Other systems offer a UEFI Boot option you can enable or disable. Depending on the options I mentioned above you can set this to the one you want.     </span><br><span class="line">And lastly, others offer a UEFI/Legacy Boot First option where you select which one you wish to use first. Obviously, the option is self-explanatory.    </span><br><span class="line"></span><br><span class="line">others ... ...</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## 问题     </span><br><span class="line"></span><br><span class="line">### 选择安装目录时检测不到空闲硬盘下分区：  </span><br><span class="line">![](./part.jpg)   </span><br><span class="line">将`动态磁盘`切换成`基本磁盘`,剩余空间不要新建简单卷   </span><br><span class="line"></span><br><span class="line">### partions使用xfs分区,sda没有足够的空间写入core.img   </span><br><span class="line">如果选则不创建grub引导，则会跳过此布异常，但是开机后会直接进入windows需要在windows下创建Cent OS引导项...</span><br><span class="line">&lt;!--谜之操作: 存在一次安装时，成功:将/biosboot, /boot分区挂载到C盘，其他分区不用管，**并将引导项装入C盘**，安装完成后，可以启动Linux但是Windows引导项被覆盖，无法进入windows --&gt;   </span><br><span class="line"></span><br><span class="line">### ~~修复windows引导项(solved)~~   </span><br><span class="line">&gt;参考:[how do i install ubuntu alongside a pre installed windows with uefi](https://askubuntu.com/questions/221835/how-do-i-install-ubuntu-alongside-a-pre-installed-windows-with-uefi)   </span><br><span class="line">&gt; [DUAL BOOT ISSUES](### DUAL BOOT ISSUES)   </span><br><span class="line">&gt;</span><br><span class="line">&gt;**对于本次装机中此问题的产生原因：对Win 10装机时采用UEFI引导（SecureBoot: enable;UEFI:first）;而装双系统时，Cent OS采用了BIOS引导（SecureBoot：disable;Lengacy  Lengacy first）,因此开机时只出现Cent OS 引导而没有Win 10引导（猜测：当采用UEFI first启动时能够启动win 10）**    </span><br><span class="line">&gt; 采用UEFI引导装机（Linux）后，重启同时出现Win 10与Cent OS引导项</span><br><span class="line"></span><br><span class="line">~~编辑`/boot/grub2/grub.cfg`文件~~    </span><br><span class="line"></span><br><span class="line">```sh</span><br><span class="line">menuentry &quot;Windows 10&quot; &#123;</span><br><span class="line">    insmod part_msdos  //mdr分区</span><br><span class="line">    insmod ntfs</span><br><span class="line">    set root=&#x27;(hd0,msdos1)&#x27;</span><br><span class="line">    chainloader +1    </span><br><span class="line">&#125;</span><br><span class="line">```   </span><br><span class="line"></span><br><span class="line">~~大致解释下，hd0 代表 Windows 系统所在的硬盘，msdos1 代表 Windows 系统所在的分区。需要注意的是，Grub 对所有硬盘的分类都表示为 hd，但现在 Linux 系统大多为 Grub2 引导，Grub2 对磁盘的分类更加详细。~~      </span><br><span class="line">~~磁盘分类可能表示为 hd 、sd ，其中 hd0 表示第一块磁盘， hd1 表示第二块... 依此类推。对于 sd 则有所不同，sda 表示第一块磁盘，sdb 表示第二块... 依此类推。~~    </span><br><span class="line">~~Linux 中通过 `df -TH` 命令可以查看硬盘的具体信息，比如你的 Windows 系统所在的硬盘为 sdb4，则代表是第二块硬盘的第四分区，代码表示为 &#x27;(sd1,msdos4)&#x27;~~        </span><br><span class="line">~~在grub中`list -l` 打印...~~    </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#### ~~进入Cent OS前~~</span><br><span class="line">~~进入系统前&quot;press C for commandline&quot;--&amp;gt;grub~~  </span><br><span class="line"></span><br><span class="line">```sh</span><br><span class="line">grub&gt;ls -l</span><br><span class="line"></span><br><span class="line">list partions: (hd0,gpt2)</span><br><span class="line"></span><br><span class="line">grub&gt;insmod part_gpt</span><br><span class="line">grub&gt;insmod ntfs</span><br><span class="line">grub&gt;set root=&#x27;hd0,gpt2&#x27;</span><br><span class="line">grub&gt;chainloader EFI/Miscrosoft/Boot/zh-CN/bootmgfw.efi</span><br><span class="line"></span><br><span class="line">//invalid file</span><br><span class="line"></span><br><span class="line">grub&gt;chainloader EFI/Boot/bootx64.efi</span><br><span class="line"></span><br><span class="line">//invalid file</span><br><span class="line"></span><br><span class="line">grub&gt;boot</span><br></pre></td></tr></table></figure>

<h4 id="进入Cent-OS后"><a href="#进入Cent-OS后" class="headerlink" title="进入Cent OS后"></a><del>进入Cent OS后</del></h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#gedit /boot/grub2/grub.cfg</span></span><br><span class="line"></span><br><span class="line">menuentry <span class="string">&quot;Windows 10&quot;</span> &#123;</span><br><span class="line">  insmod part_gpt</span><br><span class="line">  insmod ntfs</span><br><span class="line">  <span class="built_in">set</span> root=<span class="string">&#x27;hd0,gpt2&#x27;</span></span><br><span class="line">  chainloader +1</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#reboot</span></span><br></pre></td></tr></table></figure>


<p><del>尝试多次，失败告终…</del>    </p>
<!-- WinPE 修复引导项失败，重装系统... -->  
<!-- Windows 10重装UEFI -- GPT;BIOS -- MBR(Secure Boot: disable;Fast Boot: disable;Prefered OS: disable;). -->
<!-- SECURE BOOT功能:Windows 8中增加了一个新的安全功能,Secure Boot内置于UEFI BIOS中,用来对抗感染MBR、BIOS的恶意软件,  Windows 8 缺省将使用Secure Boot,在启动过程中，任何要加载的模块必须签名(强制的)，UEFI固件会进行验证， 没有签名或者无法验证的，将不会加载。 -->
<!-- EFI partitions: efi(esp) 260M, msr 1024M, primary -->
<!-- shift+f10 : commandline : diskpart  , help, list, sel, clean, convert gpt/mbr, create partition xxxx size=xxxx etc.  -->
<p><del>惨败收场</del><br><del>solvedsolvedsolvedsolvedsolvedsolvedsolvedsolved</del></p>
<h3 id="Cent-OS下无法连接wifi-无线网卡：rtl8822be-solved"><a href="#Cent-OS下无法连接wifi-无线网卡：rtl8822be-solved" class="headerlink" title="Cent OS下无法连接wifi(无线网卡：rtl8822be  solved)"></a><del>Cent OS下无法连接wifi(无线网卡：rtl8822be  solved)</del></h3><p><del>No WiFi Adapter found ~~<br>~~参照<a target="_blank" rel="noopener" href="https://github.com/lwfinger/rtlwifi_new">rtlwifi_new</a>  <a target="_blank" rel="noopener" href="https://github.com/rtlwifi-linux/rtlwifi-next.git">rtlwifi_next</a>,编译失败 ~~<br>~~怀疑：<code>This code will build on any kernel 4.2 and newer as long as the distro has not modified any of the kernel APIs.</code></del><br><del>刚安装Cent OS 7.6 内核版本3.1</del>  </p>
<p><del>没有有线网，没有wifi，一台笔记本 jj … …</del></p>
<p>….</p>
<p><del>升级内核5.1后</del><br><del><a target="_blank" rel="noopener" href="https://github.com/lwfinger/rtlwifi_new.git">rtlwifi_new</a>编译成功,成功安装</del></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo modprobe -r rtl8822be</span><br><span class="line">sudo modprobe rtl8822be</span><br></pre></td></tr></table></figure>
<p><del>执行到此处时，出错(不明语句含义。。。 。。。)</del><br><del>modprobe …</del>   </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lspci | grep Wireless</span><br></pre></td></tr></table></figure>
<p><del>无显示</del></p>
<p><del>solvedsolvedsolvedsolvedsolvedsolvedsolvedsolvedsolvedsolvedsolvedsolved</del></p>
<h4 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h4><p><strong>Lenovo Legion Y7000P+Cent OS 7.6(kernel:5.)</strong>   </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">gedit /etc/modprobe.d/blacklist.conf</span><br><span class="line">  blacklist ideapad_laptop</span><br><span class="line"></span><br><span class="line">rmmod ideapad_laptop</span><br></pre></td></tr></table></figure>
<p>具体含义… …</p>
<p>参考：<br><a target="_blank" rel="noopener" href="https://askubuntu.com/questions/1067286/still-no-wifi-adapter-for-realtek-rtl8822be-found-in-18-04">still-no-wifi-adapter-for-realtek-rtl8822be-found-in-18-04</a><br><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/e513b515149f">联想拯救者 + ubuntu16.04 + WIFI设置</a><br><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/d7731e86379b">无线网卡无法使用的问题</a><br><a target="_blank" rel="noopener" href="https://blog.csdn.net/Nurke/article/details/76465968">联想笔记本安装ubuntu，无线网卡被禁用的问题及解决方法</a>  </p>
<h3 id="USB共享手机网络"><a href="#USB共享手机网络" class="headerlink" title="USB共享手机网络"></a>USB共享手机网络</h3><p>MIUI 系统</p>
<p>USB连接选项：仅限充电<br>设置：更多连接设置：USB网络共享</p>
<p><a target="_blank" rel="noopener" href="https://askubuntu.com/questions/926364/how-to-make-my-pci-wifi-card-rtl8822-working-on-ubuntu">how to make my pci wifi card rtl8822 working on ubuntu</a><br><a target="_blank" rel="noopener" href="https://github.com/samcv/A485-RTL8822BE-firmware">Lenovo A485:RTL8822BE-firmware</a><br><a target="_blank" rel="noopener" href="https://h30434.www3.hp.com/t5/Notebook-Wireless-and-Networking/No-WiFi-adapter-in-ubuntu-18-04-LTS/m-p/6785800#M154574">No WiFi adapter in ubuntu 18 04 LTS</a><br>…</p>
<h3 id="内核升级"><a href="#内核升级" class="headerlink" title="内核升级"></a>内核升级</h3><h4 id="配置源"><a href="#配置源" class="headerlink" title="配置源"></a>配置源</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># restore old yum mirrors</span></span><br><span class="line"><span class="built_in">cd</span> /etc/yum.repos.d/</span><br><span class="line"><span class="built_in">mkdir</span> repo_bak</span><br><span class="line"><span class="built_in">mv</span> *.repo repo_bak/</span><br><span class="line"><span class="comment"># 在CentOS中配置使用网易和阿里的开源镜像</span></span><br><span class="line">wget http://mirrors.aliyun.com/repo/Centos-7.repo -o /etc/yum.repos.d/aliyun.repo</span><br><span class="line">wget http://mirrors.163.com/.help/CentOS7-Base-163.repo -o /etc/yum.repos.d/163.repo</span><br><span class="line"><span class="comment"># 清理系统缓存</span></span><br><span class="line">yum clean all</span><br><span class="line"><span class="comment"># 生成yum缓存</span></span><br><span class="line">yum makecache</span><br><span class="line"><span class="comment"># 安装epel源</span></span><br><span class="line">yum list | grep epel-release</span><br><span class="line">yum install -y epel-release</span><br><span class="line"><span class="comment"># 使用阿里开源镜像提供的epel源</span></span><br><span class="line">wget -O /etc/yum.repos.d/epel-7.repo http://mirrors.aliyun.com/repo/epel-7.repo    <span class="comment"># 下载阿里开源镜像的epel源文件</span></span><br><span class="line"><span class="comment"># 清理系统缓存</span></span><br><span class="line">yum clean all</span><br><span class="line"><span class="comment"># 生成yum缓存</span></span><br><span class="line">yum makecache</span><br><span class="line"><span class="comment"># 查看系统可用的yum源和所有的yum源</span></span><br><span class="line">yum repolist enabled</span><br><span class="line">yum repolist all</span><br></pre></td></tr></table></figure>
<h4 id="内核升级-1"><a href="#内核升级-1" class="headerlink" title="内核升级"></a>内核升级</h4><p>参考<a target="_blank" rel="noopener" href="https://blog.csdn.net/u010654572/article/details/51755465">centos 手动升级系统内核</a>   </p>

    </div>
	
	<div>
		<div>
    
        <div style="text-align:center;color: #ccc;font-size:24px;">-------------再接再厉<i class="fa fa-paw"></i>更进一步---------------</div>
    
</div>
 
	</div>
	
	
	

    
    
    

    <footer class="post-footer">
          <div class="reward-container">
  <div>感谢支持</div>
  <button>
    赞赏
  </button>
  <div class="post-reward">
      <div>
        <img src="/images/wechatpay.png" alt="XueWen 微信">
        <span>微信</span>
      </div>

  </div>
</div>

          

<div class="post-copyright">
<ul>
  <li class="post-copyright-author">
      <strong>本文作者： </strong>XueWen
  </li>
  <li class="post-copyright-link">
      <strong>本文链接：</strong>
      <a href="https://xuewenm.github.io/2019/02/28/Linux/" title="Linux">https://xuewenm.github.io/2019/02/28/Linux/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>

          <div class="post-tags">
              <a href="/tags/relax/" rel="tag"># relax</a>
              <a href="/tags/Linux/" rel="tag"># Linux</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2019/02/27/AbstractSequentialList/" rel="prev" title="AbstractSequentialList">
                  <i class="fa fa-chevron-left"></i> AbstractSequentialList
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2019/02/28/JVM/" rel="next" title="JVM">
                  JVM <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    <div class="comments gitalk-container"></div>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  <span class="with-love">
    <i class="fa fa-pen"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">WEN</span>
  <b>&nbsp;&nbsp;&nbsp;Keep fighting !&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</b>
  <!--
  &copy; 
  <span itemprop="copyrightYear">2023</span> -->
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line">&nbsp;字数:</i>
    </span>
    <span title="站点总字数">163k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee">&nbsp;阅读时长:</i>
    </span>
    <span title="站点阅读时长">9:55</span>
  </span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user">&nbsp;总访客量:</i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye">&nbsp;总访问量:</i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div><script color="0,0,255" opacity="0.5" zIndex="-1" count="49" src="https://cdn.jsdelivr.net/npm/canvas-nest.js@1/dist/canvas-nest.js"></script>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

  <a href="https://github.com/guanyuespace" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/next-theme-pjax/0.6.0/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.3/jquery.min.js" integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script><script src="/js/pjax.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>



  <script src="/js/third-party/fancybox.js"></script>

  <script src="/js/third-party/pace.js"></script>

  
  <script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/quicklink/2.3.0/quicklink.umd.js" integrity="sha256-yvJQOINiH9fWemHn0vCA5lsHWJaHs6/ZmO+1Ft04SvM=" crossorigin="anonymous"></script>
  <script class="next-config" data-name="quicklink" type="application/json">{"enable":true,"home":false,"archive":false,"delay":true,"timeout":3000,"priority":true,"url":"https://xuewenm.github.io/2019/02/28/Linux/"}</script>
  <script src="/js/third-party/quicklink.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.8.0/gitalk.css" integrity="sha256-AJnUHL7dBv6PGaeyPQJcgQPDjt/Hn/PvYZde1iqfp8U=" crossorigin="anonymous">

<script class="next-config" data-name="gitalk" type="application/json">{"enable":true,"github_id":"xuewenm","repo":"Comments","client_id":"277afed5e192963a5025","client_secret":"f1b813c1d9382088b20d4590765a56c68f14209b","admin_user":"xuewenm","distraction_free_mode":true,"proxy":"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token","language":"zh-CN","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.8.0/gitalk.min.js","integrity":"sha256-MVK9MGD/XJaGyIghSVrONSnoXoGh3IFxLw0zfvzpxR4="},"path_md5":"50d228dd95837141aa59924896d58ce1"}</script>
<script src="/js/third-party/comments/gitalk.js"></script>

</body>
</html>
